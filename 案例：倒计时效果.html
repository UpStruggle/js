<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>倒计时效果</title>
    <script>
      // 算法：用输入的时间减去现在的时间即倒计时，但不能用时分秒直接相减，会有负数
      // 用时间戳实现 用户输入的时间总的毫秒数减去现在时间的总的毫秒数，得到的就是剩余时间的毫秒数
      // 把剩余时间总的毫秒数转化为天、时、分、秒
      // 转换公式：
      // d = parseInt(总秒数/60/60/24) 计算天数
      // h = parseInt(总秒数/60/60%24) 计算小时
      // m = parseInt(总秒数/60%60) 计算分钟数
      // s = parseInt(总秒数%60) 计算当前秒数
      function countDown(time) {
        var nowTime = +new Date(); //返回当前时间总的毫秒数
        var inputTime = +new Date(time);
        var times = (inputTime - nowTime) / 1000; //times 是剩余时间总的毫秒数
        var d = parseInt(times / 60 / 60 / 24);
        d = d >= 10 ? d : "0" + d;
        var h = parseInt((times / 60 / 60) % 24);
        h = h >= 10 ? h : "0" + h;
        var m = parseInt((times / 60) % 60);
        m = m >= 10 ? m : "0" + m;
        var s = parseInt(times % 60);
        s = s >= 10 ? s : "0" + s;
        return "倒计时为：" + d + "天" + h + "时" + m + "分" + s + "秒";
      }
      console.log(countDown("2020-10-1 12:00:00"));
    </script>
  </head>
  <body></body>
</html>
